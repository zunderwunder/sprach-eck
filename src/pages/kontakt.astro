---
import Layout from '../layouts/Layout.astro';
import Icon from '../components/ui/Icon.astro';
import { Image } from 'astro:assets';

const title = "Kontakt | Sprach Eck | Logop√§die Baden";
const description = "Ihre Logop√§die-Praxis in Baden bei Wien. Zentral gelegen am Kaiser Franz Joseph-Ring 36. Vereinbaren Sie jetzt Ihr kostenloses Erstgespr√§ch f√ºr eine professionelle Sprachtherapie.";

const contactInfo = [
  {
    icon: 'map-pin',
    title: 'Adresse',
    content: 'Kaiser Franz Joseph-Ring 36, 2500 Baden',
    link: 'https://maps.google.com/?q=Kaiser+Franz+Joseph-Ring+36,+2500+Baden'
  },
  {
    icon: 'phone',
    title: 'Telefon',
    content: '+43 660 9027092',
    link: 'tel:+436609027092'
  },
  {
    icon: 'envelope',
    title: 'E-Mail',
    content: 'kontakt@sprach-eck.at',
    link: 'mailto:kontakt@sprach-eck.at?subject=Anliegen%20und%20Kontaktaufnahmem√∂glichkeiten'
  }
];

const locationInfo = [
  {
    icon: 'train',
    title: '√ñffentliche Verkehrsmittel',
    details: [
      'Bahnhof Baden (8 Gehminuten)',
      'BadnerBahn Station Josefsplatz (direkt nebenan)'
    ]
  },
  {
    icon: 'car',
    title: 'Parkm√∂glichkeiten',
    details: [
      '√ñffentliche Parkpl√§tze entlang des Rings (Blaue Zone)',
      'Parkhaus Braitnerstra√üe (5 Gehminuten)'
    ]
  }
];
---

<Layout {title} {description}>
  <main class="py-16 md:py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <!-- Hero Section -->
      <div class="text-center max-w-3xl mx-auto mb-16">
        <div class="relative inline-block mb-8"
          x-data="{ hover: false }"
          @mouseenter="hover = true"
          @mouseleave="hover = false">
          <!-- Verspielte Sprechblase -->
          <div class="absolute -top-16 left-1/2 transform -translate-x-1/2 w-56 p-3 bg-primary/10 rounded-2xl text-sm text-primary font-medium opacity-0 transition-all duration-300"
            x-bind:class="hover ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'">
            <div class="relative">
              Ich freu mich auf euch! üåü
              <!-- Sprechblasen-Pfeil -->
              <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full">
                <div class="border-8 border-transparent border-t-primary/10"></div>
              </div>
            </div>
          </div>
          <h1 class="text-4xl md:text-5xl font-bold font-primary text-dark">
            Kontakt & Anfahrt
          </h1>
        </div>
        <p class="text-lg text-dark/70 leading-relaxed">
          Noch Fragen zur logop√§dischen Therapie offen? Ich beantworte diese nat√ºrlich liebend gerne und freue mich schon auf Ihre Nachricht!
        </p>
      </div>

      <!-- Practice Description Section -->
      <div class="space-y-32 mb-32"
        x-data="{ show: false }"
        x-intersect="show = true"
        x-bind:class="show ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'"
        x-cloak>
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <!-- Image Section -->
          <div class="relative rounded-2xl overflow-hidden aspect-[4/3] transition-all duration-300 group">
            <Image
              src={import('../../public/images/Praxis-02.webp')}
              alt="Praxis Stra√üenansicht - Geb√§udeansicht mit Umgebung"
              width={800}
              height={600}
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
              loading="lazy"
              fetchpriority="high"
            />
          </div>
          <!-- Content Section -->
          <div class="space-y-6">
            <h2 class="text-3xl md:text-4xl font-bold font-primary text-dark mb-4">
              Willkommen in meiner Praxis
            </h2>
            <div class="space-y-4">
              <p class="text-lg text-dark/70 leading-relaxed">
                Die insgesamt helle Praxis im charmanten Altbaustil am Kaiser Franz Joseph-Ring bietet eine zentrale Lage und gleichzeitig durch die neue Renovierung eine angenehme Atmosph√§re in den Therapier√§umen.
              </p>
              <p class="text-lg text-dark/70 leading-relaxed">
                Mein heller Praxisraum soll f√ºr alle ein wohlf√ºhl-Ambiente erm√∂glichen. In der Einrichtung sieht man die vielf√§ltige Auswahl an Spielsachen f√ºr Kinder, was den Grundpfeiler meiner Therapie darstellt.
              </p>
              <p class="text-lg text-dark/70 leading-relaxed">
                Nicht nur Spielsachen sondern auch anderes Material sind Gegenstand der Therapie, was vor allem bei Jugendlichen und Erwachsenen zu Gebrauch kommt.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Grid -->
      <div class="grid md:grid-cols-2 gap-12 max-w-5xl mx-auto mb-16">
        <!-- Contact Info -->
        <div class="space-y-8">
          <h2 class="text-3xl md:text-4xl font-bold font-primary text-dark mb-4">
            Kontaktm√∂glichkeiten
          </h2>
          
          {contactInfo.map(info => (
            <a 
              href={info.link}
              class="group block p-6 bg-white rounded-xl border border-gray-100 transition-all duration-300 hover:shadow-xl hover:shadow-primary/5 hover:-translate-y-1"
            >
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                  <Icon name={info.icon} class="w-5 h-5 text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold text-dark group-hover:text-primary transition-colors">
                    {info.title}
                  </h3>
                  <p class="text-dark/70">{info.content}</p>
                </div>
              </div>
            </a>
          ))}
        </div>

        <!-- Location Info -->
        <div class="space-y-8">
          <h2 class="text-3xl md:text-4xl font-bold font-primary text-dark mb-4">
            Anfahrt
          </h2>
          
          {locationInfo.map(info => (
            <div class="group block p-6 bg-white rounded-xl border border-gray-100 transition-all duration-300 hover:shadow-xl hover:shadow-primary/5 hover:-translate-y-1">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                  <Icon name={info.icon} class="w-5 h-5 text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold text-dark group-hover:text-primary transition-colors mb-2">{info.title}</h3>
                  <ul class="space-y-1">
                    {info.details.map(detail => (
                      <li class="text-dark/70">{detail}</li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Contact Form Section -->
      <section class="py-12 md:py-20 bg-white">
        <div class="container mx-auto px-4 md:px-8">
          <div class="text-center max-w-3xl mx-auto mb-12 md:mb-16">
            <h2 class="text-3xl md:text-4xl font-bold font-primary text-dark mb-4">
              Schreiben Sie mir jederzeit!
            </h2>
            <p class="text-lg text-dark/70 font-secondary">
              Ich helfe Ihnen sehr gerne bei Ihrem Anliegen weiter.
            </p>
          </div>

          <!-- Contact Form -->
          <div class="max-w-2xl mx-auto">
            <div class="bg-white border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 rounded-xl p-6 md:p-8">
              <form 
  name="contact" 
  method="POST" 
  data-netlify="true" 
  class="space-y-6"
  x-data="{ showSuccess: false }"
  @submit="setTimeout(() => { showSuccess = true; setTimeout(() => { showSuccess = false }, 5000) }, 1000)"
>
  <!-- Success Message (innerhalb des Formulars) -->
  <div
    x-show="showSuccess"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 transform -translate-y-2"
    x-transition:enter-end="opacity-100 transform translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 transform translate-y-0"
    x-transition:leave-end="opacity-0 transform -translate-y-2"
    class="fixed top-0 left-0 right-0 z-50 bg-green-50 border-b border-green-200"
    style="display: none;"
  >
    <div class="max-w-7xl mx-auto py-3 px-4 sm:px-6">
      <div class="flex items-center justify-between flex-wrap">
        <div class="w-0 flex-1 flex items-center">
          <span class="flex p-2 rounded-lg bg-green-100">
            <svg class="h-6 w-6 text-green-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </span>
          <p class="ml-3 font-medium text-green-700">
            Freut mich, von Ihnen zu h√∂ren! Ich melde mich schnellstm√∂glich bei Ihnen zur√ºck!
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Name Field -->
  <div>
    <label for="name" class="block text-dark/70 mb-2">
      Dein Name <span class="text-primary">*</span>
    </label>
    <input 
      type="text" 
      id="name" 
      name="name"
      placeholder="Name"
      required
      class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors text-dark/80"
    />
  </div>

  <!-- Email Field -->
  <div>
    <label for="email" class="block text-dark/70 mb-2">
      Deine E-Mail <span class="text-primary">*</span>
    </label>
    <input 
      type="email" 
      id="email" 
      name="email"
      placeholder="dasisteine@email.at"
      required
      class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors text-dark/80"
    />
  </div>

  <!-- Message Field -->
  <div>
    <label for="message" class="block text-dark/70 mb-2">
      Deine Nachricht <span class="text-primary">*</span>
    </label>
    <textarea 
      id="message" 
      name="message"
      rows="5"
      placeholder="Hallo Viki! Ich wollte dich fragen, ..."
      required
      class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors resize-none text-dark/80"
    ></textarea>
  </div>

  <!-- GDPR Consent -->
  <div class="flex gap-3">
    <input
      type="checkbox"
      id="gdpr"
      name="gdpr"
      required
      class="mt-1 rounded border-gray-300 text-primary focus:ring-primary"
    />
    <label for="gdpr" class="text-dark/70 text-sm">
      Ich stimme zu, dass meine Angaben zur Kontaktaufnahme und f√ºr R√ºckfragen gespeichert werden. Weitere Informationen finden Sie in der <a href="/datenschutz" class="text-primary hover:text-primary/80 underline">Datenschutzerkl√§rung</a>. <span class="text-primary">*</span>
    </label>
  </div>

  <!-- Submit Button -->
  <button 
    type="submit"
    class="w-full py-3 px-6 bg-primary text-white rounded-lg hover:bg-primary/90 hover:-translate-y-0.5 transition-all duration-300 font-medium shadow-sm hover:shadow-md"
  >
    Nachricht senden
  </button>

  <!-- Required Fields Note -->
  <p class="text-sm text-dark/60 text-center mt-4">
    <span class="text-primary">*</span> Pflichtfelder
  </p>
</form>
            </div>
          </div>
        </div>
      </section>

      <!-- Map Section -->
      <div class="mt-16">
        <div class="w-full h-[400px] rounded-2xl overflow-hidden shadow-lg">
          <iframe 
            width="100%" 
            height="100%" 
            frameborder="0" 
            scrolling="no" 
            marginheight="0" 
            marginwidth="0" 
            src="https://www.openstreetmap.org/export/embed.html?bbox=16.228399%2C47.996897%2C16.230399%2C47.998897&amp;layer=mapnik&amp;marker=47.997897%2C16.229399"
            style="border: none; filter: saturate(0.8);"
            title="Standort der Praxis"
            loading="lazy"
          ></iframe>
        </div>
        <div class="mt-2 text-right">
          <a 
            href="https://www.openstreetmap.org/?mlat=47.997897&mlon=16.229399#map=19/47.997897/16.229399" 
            target="_blank" 
            rel="noopener noreferrer"
            class="text-primary hover:text-primary/80 transition-colors text-sm inline-flex items-center gap-1"
          >
            <span>Gr√∂√üere Karte anzeigen</span>
            <svg class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  .prose p {
    margin-bottom: 1.25em;
  }

  .prose p:last-child {
    margin-bottom: 0;
  }
</style>